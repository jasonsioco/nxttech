{"_id":"passport-local-mongoose-email","_rev":"8-848e19465d0c89e9f8a47d24c87c575d","name":"passport-local-mongoose-email","description":"Mongoose plugin that simplifies building username and password login with Passport and email verification","dist-tags":{"latest":"0.1.3"},"versions":{"0.1.0":{"name":"passport-local-mongoose-email","description":"Mongoose plugin that simplifies building username and password login with Passport and email verification","version":"0.1.0","main":"lib/passport-local-mongoose-email.js","repository":{"type":"git","url":"git://github.com/heitortsergent/passport-local-mongoose-email.git"},"author":{"name":"Heitor Sergent","email":"heitortsergent@gmail.com"},"license":"MIT","keywords":["mongoose","passport","authentication","login","email"],"engines":{"node":">= 0.10"},"dependencies":{"passport-local":"^1.0.0"},"devDependencies":{"chai":"^1.9.1","gulp":"^3.8.8","gulp-clean":"^0.3.1","gulp-docco":"0.0.4","gulp-exec":"^2.1.0","gulp-load-plugins":"^0.6.0","gulp-mocha":"^1.1.0","mocha":"^1.21.4","mongoose":"^3.8.16"},"scripts":{"test":"mocha -R spec test/","cover":"istanbul cover ./node_modules/mocha/bin/_mocha --report lcovonly -- -R spec"},"gitHead":"6b335de4780416e9154e7a70bb8f4033569af7d8","bugs":{"url":"https://github.com/heitortsergent/passport-local-mongoose-email/issues"},"homepage":"https://github.com/heitortsergent/passport-local-mongoose-email","_id":"passport-local-mongoose-email@0.1.0","_shasum":"ad18cf2ed2fdd95d744970013590b87ff5dbea5e","_from":".","_npmVersion":"2.5.1","_nodeVersion":"0.12.0","_npmUser":{"name":"heitortsergent","email":"heitortsergent@gmail.com"},"maintainers":[{"name":"heitortsergent","email":"heitortsergent@gmail.com"}],"dist":{"shasum":"ad18cf2ed2fdd95d744970013590b87ff5dbea5e","tarball":"https://registry.npmjs.org/passport-local-mongoose-email/-/passport-local-mongoose-email-0.1.0.tgz"},"directories":{}},"0.1.1":{"name":"passport-local-mongoose-email","description":"Mongoose plugin that simplifies building username and password login with Passport and email verification","version":"0.1.1","main":"lib/passport-local-mongoose-email.js","repository":{"type":"git","url":"git://github.com/heitortsergent/passport-local-mongoose-email.git"},"author":{"name":"Heitor Sergent","email":"heitortsergent@gmail.com"},"license":"MIT","keywords":["mongoose","passport","authentication","login","email"],"engines":{"node":">= 0.10"},"dependencies":{"passport-local":"^1.0.0"},"devDependencies":{"chai":"^1.9.1","gulp":"^3.8.8","gulp-clean":"^0.3.1","gulp-docco":"0.0.4","gulp-exec":"^2.1.0","gulp-load-plugins":"^0.6.0","gulp-mocha":"^1.1.0","mocha":"^1.21.4","mongoose":"^3.8.16"},"scripts":{"test":"mocha -R spec test/","cover":"istanbul cover ./node_modules/mocha/bin/_mocha --report lcovonly -- -R spec"},"gitHead":"195bd0563f3610e246aacfc6cba06d03fd149dc7","bugs":{"url":"https://github.com/heitortsergent/passport-local-mongoose-email/issues"},"homepage":"https://github.com/heitortsergent/passport-local-mongoose-email","_id":"passport-local-mongoose-email@0.1.1","_shasum":"93a54eae1e84ad6ebc67b549df69c3256b98a409","_from":".","_npmVersion":"2.5.1","_nodeVersion":"0.12.0","_npmUser":{"name":"heitortsergent","email":"heitortsergent@gmail.com"},"maintainers":[{"name":"heitortsergent","email":"heitortsergent@gmail.com"}],"dist":{"shasum":"93a54eae1e84ad6ebc67b549df69c3256b98a409","tarball":"https://registry.npmjs.org/passport-local-mongoose-email/-/passport-local-mongoose-email-0.1.1.tgz"},"directories":{}},"0.1.2":{"name":"passport-local-mongoose-email","description":"Mongoose plugin that simplifies building username and password login with Passport and email verification","version":"0.1.2","main":"lib/passport-local-mongoose-email.js","repository":{"type":"git","url":"git://github.com/heitortsergent/passport-local-mongoose-email.git"},"author":{"name":"Heitor Sergent","email":"heitortsergent@gmail.com"},"license":"MIT","keywords":["mongoose","passport","authentication","login","email"],"engines":{"node":">= 0.10"},"dependencies":{"passport-local":"^1.0.0"},"devDependencies":{"chai":"^1.9.1","gulp":"^3.8.8","gulp-clean":"^0.3.1","gulp-docco":"0.0.4","gulp-exec":"^2.1.0","gulp-load-plugins":"^0.6.0","gulp-mocha":"^1.1.0","mocha":"^1.21.4","mongoose":"^3.8.16"},"scripts":{"test":"mocha -R spec test/","cover":"istanbul cover ./node_modules/mocha/bin/_mocha --report lcovonly -- -R spec"},"gitHead":"530bc9e0dcc4037501f5601f3b00fec049e53ceb","bugs":{"url":"https://github.com/heitortsergent/passport-local-mongoose-email/issues"},"homepage":"https://github.com/heitortsergent/passport-local-mongoose-email","_id":"passport-local-mongoose-email@0.1.2","_shasum":"61c6ccceb409e83a2359985b6e82c5642fe72b80","_from":".","_npmVersion":"2.5.1","_nodeVersion":"0.12.0","_npmUser":{"name":"heitortsergent","email":"heitortsergent@gmail.com"},"maintainers":[{"name":"heitortsergent","email":"heitortsergent@gmail.com"}],"dist":{"shasum":"61c6ccceb409e83a2359985b6e82c5642fe72b80","tarball":"https://registry.npmjs.org/passport-local-mongoose-email/-/passport-local-mongoose-email-0.1.2.tgz"},"directories":{}},"0.1.3":{"name":"passport-local-mongoose-email","description":"Mongoose plugin that simplifies building username and password login with Passport and email verification","version":"0.1.3","main":"lib/passport-local-mongoose-email.js","repository":{"type":"git","url":"git://github.com/heitortsergent/passport-local-mongoose-email.git"},"author":{"name":"Heitor Sergent","email":"heitortsergent@gmail.com"},"license":"MIT","keywords":["mongoose","passport","authentication","login","email"],"engines":{"node":">= 0.10"},"dependencies":{"passport-local":"^1.0.0"},"devDependencies":{"chai":"^1.9.1","gulp":"^3.8.8","gulp-clean":"^0.3.1","gulp-docco":"0.0.4","gulp-exec":"^2.1.0","gulp-load-plugins":"^0.6.0","gulp-mocha":"^1.1.0","mocha":"^1.21.4","mongoose":"^3.8.16"},"scripts":{"test":"mocha -R spec test/","cover":"istanbul cover ./node_modules/mocha/bin/_mocha --report lcovonly -- -R spec"},"gitHead":"2b98d8192a12bfb61cc160e0e3dfc03dad373454","bugs":{"url":"https://github.com/heitortsergent/passport-local-mongoose-email/issues"},"homepage":"https://github.com/heitortsergent/passport-local-mongoose-email#readme","_id":"passport-local-mongoose-email@0.1.3","_shasum":"4dc007a54c2ceaec53146151c186052373fce78d","_from":".","_npmVersion":"3.8.6","_nodeVersion":"6.1.0","_npmUser":{"name":"heitortsergent","email":"heitortsergent@gmail.com"},"maintainers":[{"name":"heitortsergent","email":"heitortsergent@gmail.com"}],"dist":{"shasum":"4dc007a54c2ceaec53146151c186052373fce78d","tarball":"https://registry.npmjs.org/passport-local-mongoose-email/-/passport-local-mongoose-email-0.1.3.tgz"},"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/passport-local-mongoose-email-0.1.3.tgz_1472699120344_0.6202696275431663"},"directories":{}}},"readme":"# Passport-Local Mongoose Email\n\nPassport-Local Mongoose Email is based on [passport-local-mongoose](https://github.com/saintedlama/passport-local-mongoose). It's a [Mongoose](http://mongoosejs.com/) [plugin](http://mongoosejs.com/docs/plugins.html) \nthat simplifies building username and password login with [Passport](http://passportjs.org), together with an email token verification.\n\n[![Build Status](https://travis-ci.org/heitortsergent/passport-local-mongoose-email.png?branch=master)](https://travis-ci.org/heitortsergent/passport-local-mongoose)\n[![Coverage Status](https://coveralls.io/repos/heitortsergent/passport-local-mongoose-email/badge.png?branch=master)](https://coveralls.io/r/heitortsergent/passport-local-mongoose-email?branch=master)\n\n## Installation\n\n    $ npm install passport-local-mongoose-email\n\nPassport-Local Mongoose Email does not require `passport`, `passport-local` or `mongoose` dependencies directly but expects you to have these dependencies installed.\n\nIn case you need to install the whole set of dependencies\n\n    $ npm install passport passport-local mongoose passport-local-mongoose-email --save\n\n## Usage\n\n### Plugin Passport-Local Mongoose Email\nFirst you need to plugin Passport-Local Mongoose Email into your User schema\n\n    var mongoose = require('mongoose'),\n        Schema = mongoose.Schema,\n        passportLocalMongooseEmail = require('passport-local-mongoose-email');\n    \n    var User = new Schema({});\n    \n    User.plugin(passportLocalMongooseEmail);\n    \n    module.exports = mongoose.model('User', User);\n\nYou're free to define your User how you like. Passport-Local Mongoose Email will add a username, hash and salt field to store the username, the hashed password and the salt value. It'll also add an authToken and an isAuthenticated field for use with the email verification part of it.\n\nAdditionally Passport-Local Mongoose Email adds some methods to your Schema. See the API Documentation section for more details.\n\n### Configure Passport/Passport-Local\nYou should configure Passport/Passport-Local as described in [the Passport Guide](http://passportjs.org/guide/configure/).\n\nPassport-Local Mongoose Email supports this setup by implementing a `LocalStrategy` and serializeUser/deserializeUser functions.\n\nTo setup Passport-Local Mongoose Email use this code\n\n    // requires the model with Passport-Local Mongoose Email plugged in\n    var User = require('./models/user');\n    \n    // use static authenticate method of model in LocalStrategy\n    passport.use(new LocalStrategy(User.authenticate()));\n    \n    // use static serialize and deserialize of model for passport session support\n    passport.serializeUser(User.serializeUser());\n    passport.deserializeUser(User.deserializeUser());\n\nMake sure that you have a mongoose connected to mongodb and you're done.\n\n### Options\nWhen plugging in Passport-Local Mongoose Email plugin additional options can be provided to configure the hashing algorithm.\n\n    User.plugin(passportLocalMongoose, options);\n\n__Main Options__\n\n* saltlen: specifies the salt length in bytes. Default: 32\n* iterations: specifies the number of iterations used in pbkdf2 hashing algorithm. Default: 25000\n* keylen: specifies the length in byte of the generated key. Default: 512\n* interval: specifies the interval in milliseconds between login attempts. Default: 100\n* usernameField: specifies the field name that holds the username. Defaults to 'username'. This option can be used if you want to use a different \nfield to hold the username for example \"email\".\n* saltField: specifies the field name that holds the salt value. Defaults to 'salt'.\n* hashField: specifies the field name that holds the password hash value. Defaults to 'hash'.\n* attemptsField: specifies the field name that holds the number of login failures since the last sucessful login. Defaults to 'attempts'.\n* lastLoginField: specifies the field name that holds the timestamp of the last login attempt. Defaults to 'last'.\n* selectFields: specifies the fields of the model to be selected from mongodb (and stored in the session). Defaults to 'undefined' so that all fields of the model are selected.\n* usernameLowerCase: convert username field value to lower case when saving an querying. Defaults to 'false'.\n* populateFields: specifies fields to populate in findByUsername function. Defaults to 'undefined'.\n* encoding: specifies the encoding the generated salt and hash will be stored in. Defaults to 'hex'.\n* limitAttempts: specifies whether login attempts should be limited and login failures should be penalized. Default: false.\n\n__Error Message Options__\n\n* incorrectPasswordError: specifies the error message returned when the password is incorrect. Defaults to 'Incorrect password'.\n* incorrectUsernameError: specifies the error message returned when the username is incorrect. Defaults to 'Incorrect username'.\n* missingUsernameError: specifies the error message returned when the username has not been set during registration. Defaults to 'Field %s is not set'.\n* missingPasswordError: specifies the error message returned when the password has not been set during registration. Defaults to 'Password argument not set!'.\n* userExistsError: specifies the error message returned when the user already exists during registration. Defaults to 'User already exists with name %s'.\n* noSaltValueStored: specifies the error message returned in case no salt value is stored in the mongodb collection. Defaults to 'Authentication not possible. No salt value stored in mongodb collection!'\n\n*Attention!* Changing any of the hashing options (saltlen, iterations or keylen) in a production environment will prevent that existing users to authenticate!\n\n### Hash Algorithm\nPassport-Local Mongoose Email use the pbkdf2 algorithm of the node crypto library. \n[Pbkdf2](http://en.wikipedia.org/wiki/PBKDF2) was chosen because platform independent\n(in contrary to bcrypt). For every user a generated salt value is saved to make\nrainbow table attacks even harder.\n\n### Examples\nFor a complete example implementing a registration, login and logout see the \n[login example](https://github.com/heitortsergent/passport-local-mongoose-email/tree/master/examples/login).\n\n## API Documentation\n### Instance methods\n* setPassword(password, cb) asynchronous method to set a user's password hash and salt\n* authenticate(password, cb) asynchronous method to authenticate a user instance\n\nUsing `setPassword()` will only update the document's password fields, but will not save the document.\nTo commit the changed document, remember to use Mongoose's `document.save()` after using `setPassword()`.\n\n### Static methods\nStatic methods are exposed on the model constructor. For example to use createStrategy function use\n\n    var User = require('./models/user');\n    User.createStrategy();\n\n* authenticate() Generates a function that is used in Passport's LocalStrategy\n* serializeUser() Generates a function that is used by Passport to serialize users into the session\n* deserializeUser() Generates a function that is used by Passport to deserialize users into the session\n* register(user, password, cb) Convenience method to register a new user instance with a given password. Checks if username is unique. See [login example](https://github.com/heitortsergent/passport-local-mongoose-email/tree/master/examples/login).\n* findByUsername() Convenience method to find a user instance by it's unique username.\n* createStrategy() Creates a configured passport-local `LocalStrategy` instance that can be used in passport.\n\n## License\nPassport-Local Mongoose Email is licensed under the [MIT license](http://opensource.org/licenses/MIT).\n","maintainers":[{"name":"heitortsergent","email":"heitortsergent@gmail.com"}],"time":{"modified":"2017-04-04T14:45:47.208Z","created":"2015-03-08T19:19:47.564Z","0.1.0":"2015-03-08T19:19:47.564Z","0.1.1":"2015-03-08T20:20:37.319Z","0.1.2":"2015-03-15T17:17:14.935Z","0.1.3":"2016-09-01T03:05:22.543Z"},"homepage":"https://github.com/heitortsergent/passport-local-mongoose-email#readme","keywords":["mongoose","passport","authentication","login","email"],"repository":{"type":"git","url":"git://github.com/heitortsergent/passport-local-mongoose-email.git"},"author":{"name":"Heitor Sergent","email":"heitortsergent@gmail.com"},"bugs":{"url":"https://github.com/heitortsergent/passport-local-mongoose-email/issues"},"license":"MIT","readmeFilename":"README.md","users":{"charlietango592":true},"_attachments":{},"_etag":"W/\"58e3b19b-3c87\"","_lastModified":"Tue, 04 Apr 2017 14:45:47 GMT","_cached":true}