{"_id":"supertest-as-promised","_rev":"58-84fdcbf5dc96ae6748b80174a413fc73","name":"supertest-as-promised","description":"Supercharge supertest with a promise interface","dist-tags":{"latest":"4.0.2"},"versions":{"0.0.1":{"name":"supertest-as-promised","version":"0.0.1","description":"Supercharge supertest with a promise interface","main":"index.js","scripts":{"test":"mocha"},"repository":{"type":"git","url":"git://github.com/WhoopInc/supertest-as-promised.git"},"keywords":["supertest","superagent","request","tdd","bdd","http","test","testing","promise","promised"],"author":{"name":"Nikhil Benesch","email":"benesch@whoop.com"},"license":"MIT","bugs":{"url":"https://github.com/WhoopInc/supertest-as-promised/issues"},"homepage":"https://github.com/WhoopInc/supertest-as-promised","peerDependencies":{"supertest":"*"},"devDependencies":{"chai":"^1.9.1","chai-as-promised":"^4.1.1","changelog":"^1.0.5","mocha":"^1.18.2","supertest":"*"},"dependencies":{"bluebird":"^1.2.4","lodash":"^2.4.1"},"_id":"supertest-as-promised@0.0.1","_shasum":"99a117792d721a1f5eddf2d08b8ff5ac2e70eb0c","_from":".","_npmVersion":"1.4.7","_npmUser":{"name":"benesch","email":"nikhil.benesch@gmail.com"},"maintainers":[{"name":"benesch","email":"nikhil.benesch@gmail.com"}],"dist":{"shasum":"99a117792d721a1f5eddf2d08b8ff5ac2e70eb0c","tarball":"https://registry.npmjs.org/supertest-as-promised/-/supertest-as-promised-0.0.1.tgz"},"deprecated":"SuperTest 2.0+ supports promises natively; use that instead!","directories":{}},"0.1.0":{"name":"supertest-as-promised","version":"0.1.0","description":"Supercharge supertest with a promise interface","main":"index.js","scripts":{"changelog":"changelog --markdown > CHANGELOG.md","test":"mocha"},"repository":{"type":"git","url":"git://github.com/WhoopInc/supertest-as-promised.git"},"keywords":["supertest","superagent","request","tdd","bdd","http","test","testing","promise","promised"],"author":{"name":"Nikhil Benesch","email":"benesch@whoop.com"},"license":"MIT","bugs":{"url":"https://github.com/WhoopInc/supertest-as-promised/issues"},"homepage":"https://github.com/WhoopInc/supertest-as-promised","peerDependencies":{"supertest":"*"},"devDependencies":{"chai":"^1.9.1","chai-as-promised":"^4.1.1","changelog":"^1.0.5","mocha":"^1.18.2","supertest":"*"},"dependencies":{"bluebird":"^1.2.4","methods":"^1.0.0"},"_id":"supertest-as-promised@0.1.0","_shasum":"c424fb96281c12b5c132937ac317fcc53f3e9585","_from":".","_npmVersion":"1.4.7","_npmUser":{"name":"benesch","email":"nikhil.benesch@gmail.com"},"maintainers":[{"name":"benesch","email":"nikhil.benesch@gmail.com"}],"dist":{"shasum":"c424fb96281c12b5c132937ac317fcc53f3e9585","tarball":"https://registry.npmjs.org/supertest-as-promised/-/supertest-as-promised-0.1.0.tgz"},"deprecated":"SuperTest 2.0+ supports promises natively; use that instead!","directories":{}},"0.1.1":{"name":"supertest-as-promised","version":"0.1.1","description":"Supercharge supertest with a promise interface","main":"index.js","scripts":{"changelog":"changelog --markdown > CHANGELOG.md","test":"mocha"},"repository":{"type":"git","url":"git://github.com/WhoopInc/supertest-as-promised.git"},"keywords":["supertest","superagent","request","tdd","bdd","http","test","testing","promise","promised"],"author":{"name":"Nikhil Benesch","email":"benesch@whoop.com"},"license":"MIT","bugs":{"url":"https://github.com/WhoopInc/supertest-as-promised/issues"},"homepage":"https://github.com/WhoopInc/supertest-as-promised","peerDependencies":{"supertest":"*"},"devDependencies":{"chai":"^1.9.1","chai-as-promised":"^4.1.1","changelog":"^1.0.5","mocha":"^1.18.2","supertest":"*"},"dependencies":{"bluebird":"^1.2.4","methods":"^1.0.0"},"_id":"supertest-as-promised@0.1.1","_shasum":"f8383980f631a40e6affb436c460f1f5706e3125","_from":".","_npmVersion":"1.4.7","_npmUser":{"name":"benesch","email":"nikhil.benesch@gmail.com"},"maintainers":[{"name":"benesch","email":"nikhil.benesch@gmail.com"}],"dist":{"shasum":"f8383980f631a40e6affb436c460f1f5706e3125","tarball":"https://registry.npmjs.org/supertest-as-promised/-/supertest-as-promised-0.1.1.tgz"},"deprecated":"SuperTest 2.0+ supports promises natively; use that instead!","directories":{}},"1.0.0":{"name":"supertest-as-promised","version":"1.0.0","description":"Supercharge supertest with a promise interface","main":"index.js","scripts":{"changelog":"changelog all --markdown > CHANGELOG.md","test":"mocha"},"repository":{"type":"git","url":"git://github.com/WhoopInc/supertest-as-promised.git"},"keywords":["supertest","superagent","request","tdd","bdd","http","test","testing","promise","promised"],"author":{"name":"Nikhil Benesch","email":"benesch@whoop.com"},"license":"MIT","bugs":{"url":"https://github.com/WhoopInc/supertest-as-promised/issues"},"homepage":"https://github.com/WhoopInc/supertest-as-promised","peerDependencies":{"supertest":"*"},"devDependencies":{"chai":"^1.9.1","chai-as-promised":"^4.1.1","changelog":"^1.0.5","mocha":"^1.18.2","supertest":"*","express":"3.1.0","rewire":"^2.0.1","should":"3.3.1"},"dependencies":{"bluebird":"^1.2.4","methods":"^1.0.0"},"_id":"supertest-as-promised@1.0.0","_shasum":"735dcd3705a17085db235df51d818953c1fbb7ac","_from":".","_npmVersion":"1.4.7","_npmUser":{"name":"benesch","email":"nikhil.benesch@gmail.com"},"maintainers":[{"name":"benesch","email":"nikhil.benesch@gmail.com"}],"dist":{"shasum":"735dcd3705a17085db235df51d818953c1fbb7ac","tarball":"https://registry.npmjs.org/supertest-as-promised/-/supertest-as-promised-1.0.0.tgz"},"deprecated":"SuperTest 2.0+ supports promises natively; use that instead!","directories":{}},"2.0.0":{"name":"supertest-as-promised","version":"2.0.0","description":"Supercharge supertest with a promise interface","main":"index.js","scripts":{"test":"mocha"},"repository":{"type":"git","url":"git://github.com/WhoopInc/supertest-as-promised.git"},"keywords":["supertest","superagent","request","tdd","bdd","http","test","testing","promise","promised"],"author":{"name":"Nikhil Benesch","email":"benesch@whoop.com"},"license":"MIT","bugs":{"url":"https://github.com/WhoopInc/supertest-as-promised/issues"},"homepage":"https://github.com/WhoopInc/supertest-as-promised","peerDependencies":{"supertest":"*"},"devDependencies":{"chai":"^2.2.0","chai-as-promised":"^4.3.0","rewire":"^2.3.1","supertest":"*","when":"3.7.2","express":"3.1.0","mocha":"1.19.0","should":"3.3.1"},"dependencies":{"bluebird":"^2.9.24","methods":"^1.1.1"},"gitHead":"cbd1565e63079cd7714df76e6d27d3fcb8f8eb30","_id":"supertest-as-promised@2.0.0","_shasum":"c9f2c4d6936bec7b3e3ef0aa99787c38a52f154e","_from":".","_npmVersion":"2.1.6","_nodeVersion":"0.10.33","_npmUser":{"name":"benesch","email":"nikhil.benesch@gmail.com"},"maintainers":[{"name":"benesch","email":"nikhil.benesch@gmail.com"}],"dist":{"shasum":"c9f2c4d6936bec7b3e3ef0aa99787c38a52f154e","tarball":"https://registry.npmjs.org/supertest-as-promised/-/supertest-as-promised-2.0.0.tgz"},"deprecated":"SuperTest 2.0+ supports promises natively; use that instead!","directories":{}},"2.0.1":{"name":"supertest-as-promised","version":"2.0.1","description":"Supercharge supertest with a promise interface","main":"index.js","scripts":{"test":"mocha"},"repository":{"type":"git","url":"git://github.com/WhoopInc/supertest-as-promised.git"},"keywords":["supertest","superagent","request","tdd","bdd","http","test","testing","promise","promised"],"author":{"name":"Nikhil Benesch","email":"benesch@whoop.com"},"license":"MIT","bugs":{"url":"https://github.com/WhoopInc/supertest-as-promised/issues"},"homepage":"https://github.com/WhoopInc/supertest-as-promised","peerDependencies":{"supertest":"*"},"devDependencies":{"chai":"^2.2.0","chai-as-promised":"^4.3.0","rewire":"^2.3.1","supertest":"*","when":"3.7.2","body-parser":"~1.12.3","express":"3.20.2","mocha":"2.2.4","should":"6.0.1"},"dependencies":{"bluebird":"^2.9.24","methods":"^1.1.1"},"gitHead":"7acb64933671162c256cc0bd5f3972b45d655231","_id":"supertest-as-promised@2.0.1","_shasum":"35282c9408262129460c63de480c657d59ad74aa","_from":".","_npmVersion":"2.7.3","_nodeVersion":"0.12.1","_npmUser":{"name":"benesch","email":"nikhil.benesch@gmail.com"},"maintainers":[{"name":"benesch","email":"nikhil.benesch@gmail.com"}],"dist":{"shasum":"35282c9408262129460c63de480c657d59ad74aa","tarball":"https://registry.npmjs.org/supertest-as-promised/-/supertest-as-promised-2.0.1.tgz"},"deprecated":"SuperTest 2.0+ supports promises natively; use that instead!","directories":{}},"2.0.2":{"name":"supertest-as-promised","version":"2.0.2","description":"Supercharge supertest with a promise interface","main":"index.js","scripts":{"test":"mocha"},"repository":{"type":"git","url":"git://github.com/WhoopInc/supertest-as-promised.git"},"keywords":["supertest","superagent","request","tdd","bdd","http","test","testing","promise","promised"],"author":{"name":"Nikhil Benesch","email":"benesch@whoop.com"},"license":"MIT","bugs":{"url":"https://github.com/WhoopInc/supertest-as-promised/issues"},"homepage":"https://github.com/WhoopInc/supertest-as-promised","peerDependencies":{"supertest":"*"},"devDependencies":{"chai":"^2.2.0","chai-as-promised":"^4.3.0","rewire":"^2.3.1","supertest":"*","when":"3.7.2","body-parser":"~1.12.3","express":"3.20.2","mocha":"2.2.4","should":"6.0.1"},"dependencies":{"bluebird":"^2.9.24","methods":"^1.1.1"},"gitHead":"7aebb8532c1eee8d3d2b4653d528fedeb9a413d7","_id":"supertest-as-promised@2.0.2","_shasum":"a5da49df1b650d28338235f37f295360a81fc9b4","_from":".","_npmVersion":"2.10.1","_nodeVersion":"0.12.4","_npmUser":{"name":"benesch","email":"nikhil.benesch@gmail.com"},"dist":{"shasum":"a5da49df1b650d28338235f37f295360a81fc9b4","tarball":"https://registry.npmjs.org/supertest-as-promised/-/supertest-as-promised-2.0.2.tgz"},"maintainers":[{"name":"benesch","email":"nikhil.benesch@gmail.com"}],"deprecated":"SuperTest 2.0+ supports promises natively; use that instead!","directories":{}},"3.0.0":{"name":"supertest-as-promised","version":"3.0.0","description":"Supercharge supertest with a promise interface","main":"index.js","scripts":{"test":"mocha"},"repository":{"type":"git","url":"git://github.com/WhoopInc/supertest-as-promised.git"},"keywords":["supertest","superagent","request","tdd","bdd","http","test","testing","promise","promised"],"author":{"name":"Nikhil Benesch","email":"benesch@whoop.com"},"license":"MIT","bugs":{"url":"https://github.com/WhoopInc/supertest-as-promised/issues"},"homepage":"https://github.com/WhoopInc/supertest-as-promised","peerDependencies":{"supertest":"*"},"devDependencies":{"chai":"^2.2.0","chai-as-promised":"^4.3.0","rewire":"^2.3.1","supertest":"*","when":"3.7.2","body-parser":"~1.12.3","cookie-parser":"~1.3.5","express":"~4.12.4","mocha":"~2.2.5","should":"~7.0.2"},"dependencies":{"bluebird":"^3.3.1","methods":"^1.1.1"},"gitHead":"fe546de56127761451c6960c87392de89a6f2b4f","_id":"supertest-as-promised@3.0.0","_shasum":"f1c02de8ae8f5040298fe666312b706dec364a56","_from":".","_npmVersion":"3.3.9","_nodeVersion":"5.0.0","_npmUser":{"name":"benesch","email":"nikhil.benesch@gmail.com"},"maintainers":[{"name":"benesch","email":"nikhil.benesch@gmail.com"}],"dist":{"shasum":"f1c02de8ae8f5040298fe666312b706dec364a56","tarball":"https://registry.npmjs.org/supertest-as-promised/-/supertest-as-promised-3.0.0.tgz"},"_npmOperationalInternal":{"host":"packages-6-west.internal.npmjs.com","tmp":"tmp/supertest-as-promised-3.0.0.tgz_1456094956316_0.0699484518263489"},"deprecated":"SuperTest 2.0+ supports promises natively; use that instead!","directories":{}},"3.1.0":{"name":"supertest-as-promised","version":"3.1.0","description":"Supercharge supertest with a promise interface","main":"index.js","scripts":{"test":"mocha"},"repository":{"type":"git","url":"git://github.com/WhoopInc/supertest-as-promised.git"},"keywords":["supertest","superagent","request","tdd","bdd","http","test","testing","promise","promised"],"author":{"name":"Nikhil Benesch","email":"benesch@whoop.com"},"license":"MIT","bugs":{"url":"https://github.com/WhoopInc/supertest-as-promised/issues"},"homepage":"https://github.com/WhoopInc/supertest-as-promised","peerDependencies":{"supertest":"*"},"devDependencies":{"chai":"^2.2.0","chai-as-promised":"^4.3.0","rewire":"^2.3.1","supertest":"*","when":"3.7.2","body-parser":"~1.12.3","cookie-parser":"~1.3.5","express":"~4.12.4","mocha":"~2.2.5","should":"~7.0.2"},"dependencies":{"bluebird":"^3.3.1","methods":"^1.1.1"},"gitHead":"82d46909b211f4935a278e9b2ad96328dc68b2df","_id":"supertest-as-promised@3.1.0","_shasum":"925a7d41f767d6f31057918cb4cb8764c33d0937","_from":".","_npmVersion":"3.3.9","_nodeVersion":"5.0.0","_npmUser":{"name":"benesch","email":"nikhil.benesch@gmail.com"},"maintainers":[{"name":"benesch","email":"nikhil.benesch@gmail.com"}],"dist":{"shasum":"925a7d41f767d6f31057918cb4cb8764c33d0937","tarball":"https://registry.npmjs.org/supertest-as-promised/-/supertest-as-promised-3.1.0.tgz"},"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/supertest-as-promised-3.1.0.tgz_1459387925238_0.2895567847881466"},"deprecated":"SuperTest 2.0+ supports promises natively; use that instead!","directories":{}},"3.2.0":{"name":"supertest-as-promised","version":"3.2.0","description":"Supercharge supertest with a promise interface","main":"index.js","scripts":{"test":"mocha"},"repository":{"type":"git","url":"git://github.com/WhoopInc/supertest-as-promised.git"},"keywords":["supertest","superagent","request","tdd","bdd","http","test","testing","promise","promised"],"author":{"name":"Nikhil Benesch","email":"benesch@whoop.com"},"license":"MIT","bugs":{"url":"https://github.com/WhoopInc/supertest-as-promised/issues"},"homepage":"https://github.com/WhoopInc/supertest-as-promised","peerDependencies":{"supertest":"*"},"devDependencies":{"chai":"^2.2.0","chai-as-promised":"^4.3.0","rewire":"^2.3.1","supertest":"*","when":"3.7.2","body-parser":"~1.12.3","cookie-parser":"~1.3.5","express":"~4.12.4","mocha":"~2.2.5","should":"~7.0.2"},"dependencies":{"bluebird":"^3.3.1","methods":"^1.1.1"},"gitHead":"36a46edeb1c2dd4da7b4c3e0328445f29a3a916e","_id":"supertest-as-promised@3.2.0","_shasum":"aca05210fc496a2aa71eee9d584a781df145534f","_from":".","_npmVersion":"3.3.9","_nodeVersion":"5.0.0","_npmUser":{"name":"benesch","email":"nikhil.benesch@gmail.com"},"maintainers":[{"name":"benesch","email":"nikhil.benesch@gmail.com"}],"dist":{"shasum":"aca05210fc496a2aa71eee9d584a781df145534f","tarball":"https://registry.npmjs.org/supertest-as-promised/-/supertest-as-promised-3.2.0.tgz"},"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/supertest-as-promised-3.2.0.tgz_1467568260534_0.8768397816456854"},"deprecated":"SuperTest 2.0+ supports promises natively; use that instead!","directories":{}},"4.0.0":{"name":"supertest-as-promised","version":"4.0.0","description":"Supercharge supertest with a promise interface","main":"index.js","scripts":{"test":"mocha"},"repository":{"type":"git","url":"git://github.com/WhoopInc/supertest-as-promised.git"},"keywords":["supertest","superagent","request","tdd","bdd","http","test","testing","promise","promised"],"author":{"name":"Nikhil Benesch","email":"benesch@whoop.com"},"license":"MIT","bugs":{"url":"https://github.com/WhoopInc/supertest-as-promised/issues"},"homepage":"https://github.com/WhoopInc/supertest-as-promised","peerDependencies":{"supertest":"*"},"devDependencies":{"chai":"^2.2.0","chai-as-promised":"^4.3.0","rewire":"^2.3.1","supertest":"*","when":"3.7.2","body-parser":"~1.12.3","cookie-parser":"~1.3.5","express":"~4.12.4","mocha":"~2.2.5","should":"~7.0.2"},"dependencies":{"bluebird":"^3.3.1","methods":"^1.1.1"},"gitHead":"e48e3eb76ee02fffe9fd36de7ea147e47e629002","_id":"supertest-as-promised@4.0.0","_shasum":"d64cd02fac0e4765ce68a0ae31b7f227d8e04ea4","_from":".","_npmVersion":"3.3.9","_nodeVersion":"5.0.0","_npmUser":{"name":"benesch","email":"nikhil.benesch@gmail.com"},"maintainers":[{"name":"benesch","email":"nikhil.benesch@gmail.com"}],"dist":{"shasum":"d64cd02fac0e4765ce68a0ae31b7f227d8e04ea4","tarball":"https://registry.npmjs.org/supertest-as-promised/-/supertest-as-promised-4.0.0.tgz"},"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/supertest-as-promised-4.0.0.tgz_1470940727186_0.6778626381419599"},"deprecated":"SuperTest 2.0+ supports promises natively; use that instead!","directories":{}},"4.0.1":{"name":"supertest-as-promised","version":"4.0.1","description":"Supercharge supertest with a promise interface","main":"index.js","scripts":{"test":"mocha"},"repository":{"type":"git","url":"git://github.com/WhoopInc/supertest-as-promised.git"},"keywords":["supertest","superagent","request","tdd","bdd","http","test","testing","promise","promised"],"author":{"name":"Nikhil Benesch","email":"benesch@whoop.com"},"license":"MIT","bugs":{"url":"https://github.com/WhoopInc/supertest-as-promised/issues"},"homepage":"https://github.com/WhoopInc/supertest-as-promised","peerDependencies":{"supertest":"*"},"devDependencies":{"chai":"^2.2.0","chai-as-promised":"^4.3.0","rewire":"^2.3.1","supertest":"*","when":"3.7.2","body-parser":"~1.12.3","cookie-parser":"~1.3.5","express":"~4.12.4","mocha":"~2.2.5","should":"~7.0.2"},"dependencies":{"bluebird":"^3.3.1","methods":"^1.1.1"},"gitHead":"e539391c84bfb4be3bf11a2a2cd1c9c05af9744c","_id":"supertest-as-promised@4.0.1","_shasum":"78eeafdbc7c9ea1973875f137efd4d3b04c12adc","_from":".","_npmVersion":"3.3.9","_nodeVersion":"5.0.0","_npmUser":{"name":"benesch","email":"nikhil.benesch@gmail.com"},"maintainers":[{"name":"benesch","email":"nikhil.benesch@gmail.com"}],"dist":{"shasum":"78eeafdbc7c9ea1973875f137efd4d3b04c12adc","tarball":"https://registry.npmjs.org/supertest-as-promised/-/supertest-as-promised-4.0.1.tgz"},"_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/supertest-as-promised-4.0.1.tgz_1477365788155_0.7989651768002659"},"deprecated":"SuperTest 2.0+ supports promises natively; use that instead!","directories":{}},"4.0.2":{"name":"supertest-as-promised","version":"4.0.2","description":"Supercharge supertest with a promise interface","main":"index.js","scripts":{"test":"mocha"},"repository":{"type":"git","url":"git://github.com/WhoopInc/supertest-as-promised.git"},"keywords":["supertest","superagent","request","tdd","bdd","http","test","testing","promise","promised"],"author":{"name":"Nikhil Benesch","email":"benesch@whoop.com"},"license":"MIT","bugs":{"url":"https://github.com/WhoopInc/supertest-as-promised/issues"},"homepage":"https://github.com/WhoopInc/supertest-as-promised","peerDependencies":{"supertest":"*"},"devDependencies":{"chai":"^2.2.0","chai-as-promised":"^4.3.0","rewire":"^2.3.1","supertest":"*","when":"3.7.2","body-parser":"~1.12.3","cookie-parser":"~1.3.5","express":"~4.12.4","mocha":"~2.2.5","should":"~7.0.2"},"dependencies":{"bluebird":"^3.3.1","methods":"^1.1.1"},"gitHead":"3eb42c047fcb6867ec823f318999cfcdcd8bd5da","_id":"supertest-as-promised@4.0.2","_shasum":"0464f2bd256568d4a59bce84269c0548f6879f1a","_from":".","_npmVersion":"2.15.1","_nodeVersion":"0.10.48","_npmUser":{"name":"benesch","email":"nikhil.benesch@gmail.com"},"dist":{"shasum":"0464f2bd256568d4a59bce84269c0548f6879f1a","tarball":"https://registry.npmjs.org/supertest-as-promised/-/supertest-as-promised-4.0.2.tgz"},"maintainers":[{"name":"benesch","email":"nikhil.benesch@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/supertest-as-promised-4.0.2.tgz_1478117068755_0.8730813236907125"},"deprecated":"SuperTest 2.0+ supports promises natively; use that instead!","directories":{}}},"readme":"<a href=\"http://promisesaplus.com/\">\n  <img src=\"https://promises-aplus.github.io/promises-spec/assets/logo-small.png\"\n    align=\"right\" valign=\"top\" alt=\"Promises/A+ logo\">\n</a>\n\n# supertest-as-promised\n\n<a href=\"https://travis-ci.org/WhoopInc/supertest-as-promised\">\n  <img src=\"https://travis-ci.org/WhoopInc/supertest-as-promised.svg?branch=master\"\n    align=\"right\" valign=\"top\" alt=\"Build Status\">\n</a>\n\nSuperTest as Promised supercharges [SuperTest] with a `then` method.\n\nInstead of layering callbacks on callbacks in your tests:\n\n```js\nrequest(app)\n  .get(\"/user\")\n  .expect(200, function (err, res) {\n    if (err) return done(err);\n\n    var userId = res.body.id;\n    request(app)\n      .post(\"/kittens\")\n      .send({ userId: userId, ... })\n      .expect(201, function (err, res) {\n        if (err) return done(err);\n\n        // ...\n      });\n  });\n```\n\nchain your requests like you were promised:\n\n```js\nreturn request(app)\n  .get(\"/user\")\n  .expect(200)\n  .then(function (res) {\n    return request(app)\n      .post(\"/kittens\")\n      .send({ userId: res})\n      .expect(201);\n  })\n  .then(function (res) {\n    // ...\n  });\n```\n\n## Usage\n\nSuperTest as Promised operates just like normal [SuperTest], except that the\nobject returned by `.get`, `.post`, etc. is a proper\nthenable:\n\n```js\nvar express = require(\"express\")\n  , request = require(\"supertest-as-promised\");\n\nvar app = express();\n\nrequest(app)\n  .get(\"/kittens\")\n  .expect(200)\n  .then(function (res) {\n    // ...\n  });\n```\n\nIf you use a promise-friendly test runner, you can just\nreturn your `request` chain from the test case rather than messing with a\ncallback:\n\n```js\ndescribe(\"GET /kittens\", function () {\n  it(\"should work\", function () {\n    return request(app).get(\"/kittens\").expect(200);\n  });\n});\n```\n\n### Agents\n\nIf you use a SuperTest agent to persist cookies, those are thenable too:\n\n```js\nvar agent = require(\"supertest-as-promised\").agent(app);\n\nagent\n  .get(\"/ugly-kitteh\")\n  .expect(404)\n  .then(function () {\n    // ...\n  })\n```\n\n\n### Promisey goodness\n\nTo start, only the `then` and `catch` methods are exposed. But once you've\ncalled `.then` or `.catch` once, you've got a proper [Bluebird] promise that\nsupports the whole gamut of promisey goodness:\n\n```js\nrequest(app)\n  .get(\"/kittens\")\n  .expect(201)\n  .then(function (res) { /* ... */ })\n  // I'm a real promise now!\n  .catch(function (err) { /* ... */ })\n```\n\nSee the [Bluebird API][bluebird-api] for everything that's available.\n\nYou may find it cleaner to cast directly to a promise using the `toPromise`\nmethod:\n\n```js\nrequest(app)\n  .get(\"/kittens\")\n  .expect(201)\n  .toPromise()\n  // I'm a real promise now!\n  .delay(10)\n  .then(function (res) { /* ... */ })\n```\n\n### BYOP: Bring your own `Promise`\n\nYou can supply own promise library so that the promises returned have your\nconvenience methods of choice.\n\nSimply call the SuperTest as Promised module with a ES6-compliant `Promise`\nconstructor, and you'll get back a new module configured to return your custom\npromises. To swap in [when.js], for example:\n\n```js\nvar when = require(\"when\")\n  , request;\n\nrequest = require(\"supertest-as-promised\")(when.Promise);\nrequest(app)\n  .get(\"/when.js\")\n  .then(function (res) { /* ... */ })\n  // I'm a when.js promise! (instanceof when.Promise == true)\n  .frobulate()\n\nrequest = require(\"supertest-as-promised\");\nrequest(app)\n  .get(\"/bluebird.js\")\n  .then(function (res) { /* .. */ })\n  // I'm back to the default Bluebird promise!\n```\n\n### Debugging\n\nSuppose your snazzy test\n\n```js\nit(\"should get kittens\", function () {\n  return request(app).get(\"/kittens\").expect(200)\n    .then(function (res) {\n      return expect(res.body).to.equal(\"kittens r cute!\");\n    });\n});\n```\n\nsuddenly starts failing with a \"400 Bad Request\" error. It'd sure be\nhandy if you could print out the response body to see if the server\nmentioned what, in particular, was bad about your test. Chain on a\n`.catch` and inspect `err.response`:\n\n```js\nit(\"should get kittens\", function () {\n  return request(app).get(\"/kittens\").expect(200)\n    .then(function (res) {\n      return expect(res.text).to.equal(\"kittens r cute!\");\n    })\n    .catch(function (err) {\n      console.log(err.response.text); // \"You have viewed too many kittens today.\"\n    });\n});\n```\n\n\n## Installation\n\n### Node\n\n```bash\n$ npm install supertest supertest-as-promised\n```\n\nSuperTest as Promised lists [`supertest`][SuperTest] as a\n[peer dependency][peer-dependency], so it'll wrap whatever version of SuperTest\nyou've asked for in your own `package.json`.\n\nIn earlier versions of NPM, failing to list SuperTest as a dependency would get\nyou the latest version. In NPM 3, failing to list SuperTest as a dependency will\ngenerate a warning and SuperTest will not be installed.\n\nDo note that SuperTest as Promised is a well-behaved citizen and doesn't\nmonkey-patch SuperTest directly:\n\n```js\n// I return thenables!\nvar request = require(\"supertest-as-promised\");\n\n// I'm lame and force you to use callbacks\nvar request = require(\"supertest\");\n```\n\n\n## Versions\n\nWe follow [semver]: the major version number will be upgraded with any breaking\nchange. Breaking changes in each major version are listed below. Consult the\n[changelog] for a list of meaningful new features in each version; consult the\ncommit log for a complete list.\n\n### Breaking changes in 4.0\n\n* In `.catch` handlers, `err.response` is now marked as non-enumerable.\n\n### Breaking changes in 3.0\n\n* [Bluebird][bluebird] has been upgraded to version 3.3.1.\n\n### Breaking changes in 2.0\n\n* [Bluebird][bluebird] has been upgraded to version 2.9.24.\n\n[bluebird]: https://github.com/petkaantonov/bluebird\n[bluebird-api]: https://github.com/petkaantonov/bluebird/blob/master/API.md#promiseisdynamic-value---boolean\n[changelog]: CHANGELOG.md\n[peer-dependency]: http://blog.nodejs.org/2013/02/07/peer-dependencies/\n[semver]: http://semver.org\n[SuperTest]: https://github.com/visionmedia/supertest\n[when.js]: https://github.com/cujojs/when\n","maintainers":[{"name":"benesch","email":"nikhil.benesch@gmail.com"}],"time":{"modified":"2017-04-11T13:00:46.634Z","created":"2014-05-07T15:11:47.196Z","0.0.1":"2014-05-07T15:11:47.196Z","0.1.0":"2014-05-19T17:29:28.541Z","0.1.1":"2014-05-19T17:54:07.402Z","1.0.0":"2014-07-01T15:14:23.296Z","2.0.0":"2015-04-07T02:23:51.696Z","2.0.1":"2015-05-13T00:43:51.819Z","2.0.2":"2015-07-05T05:19:43.182Z","3.0.0":"2016-02-21T22:49:21.078Z","3.1.0":"2016-03-31T01:32:06.268Z","3.2.0":"2016-07-03T17:51:02.955Z","4.0.0":"2016-08-11T18:38:48.490Z","4.0.1":"2016-10-25T03:23:09.931Z","4.0.2":"2016-11-02T20:04:30.964Z"},"homepage":"https://github.com/WhoopInc/supertest-as-promised","keywords":["supertest","superagent","request","tdd","bdd","http","test","testing","promise","promised"],"repository":{"type":"git","url":"git://github.com/WhoopInc/supertest-as-promised.git"},"author":{"name":"Nikhil Benesch","email":"benesch@whoop.com"},"bugs":{"url":"https://github.com/WhoopInc/supertest-as-promised/issues"},"license":"MIT","readmeFilename":"README.md","users":{"feroc1ty":true,"italoacasas":true,"flockonus":true,"passcod":true,"arnold-almeida":true,"albertorestifo":true,"raiseandfall":true,"gollojs":true,"mjurincic":true,"jerkovicl":true,"karl.alnebratt":true,"phajej":true,"hckhanh":true,"jmorris":true,"ugarz":true,"makay":true,"nukisman":true,"germanattanasio":true,"capaj":true,"yeremeyev":true,"kerimdzhanov":true,"glebec":true,"errhunter":true,"jonathas":true,"thotk":true,"mr-smiley":true,"l2xbrain":true,"bmearns":true,"bajtos":true,"shanewholloway":true,"gvost":true,"rsp":true},"_attachments":{},"_etag":"W/\"58ecd37e-6b97\"","_lastModified":"Tue, 11 Apr 2017 13:00:46 GMT"}